extends layout

block content
	// Main content
	section.section
		.container
			h1.subtitle.has-text-centered
				strong #{user.username} | #{title}
			// .tabs.is-centered.is-hidden-desktop.is-hidden-widescreen.is-hidden-fullhd
			.tabs.is-centered.is-boxed
				ul
					li.is-active
						a(href='/users/' + user._id + '/update')
							span.icon.is-small
								i.fas.fa-pen(aria-hidden='true')
							span edit
					li
						a(href='/users/' + user._id)
							span.icon.is-small
								i.fas.fa-bookmark(aria-hidden='true')
							span yardsales
					li
						a(href='/users/' + user._id + '/favorites')
							span.icon.is-small
								i.fas.fa-heart(aria-hidden='true')
							span favorites
			.columns
				.column.is-one-quarter
					nav.panel.is-hidden-mobile
						p.panel-heading Profile&nbsp;&nbsp;
							a(href='/users/' + user._id + '/profilepic') upload picture
							//.modal
							//	.modal-background
							//	.modal-content
							//
							//	button.modal-close.is-large(aria-label='close')
						.panel-block
							//img(src='/images/blank_profile.png' alt='profile picture' height=250 width=250)
							img(src='https://s3.amazonaws.com/yardy123/'+user.username+'/'+user.profilepic alt='profile picture' height=250 width=250)

						.panel-block
							p.control.has-icons-left
								input.input.is-small(type='text' placeholder='search')
								span.icon.is-small.is-left
									i.fas.fa-search(aria-hidden=true)
						//.panel-tabs
						//	a(href='/users/'+user._id+'/update') edit
						//	a.is-active(href='/users/'+user._id) yardsales
						//	a(href='/users/'+user._id+'/favorites') favorites
						a.panel-block
							span.panel-icon
								i.fas.fa-user(aria-hidden=true)
							p #[strong Username: ] #{user.username}
						a.panel-block
							span.panel-icon
								i.fas.fa-user(aria-hidden=true)
							p #[strong First Name: ] #{user.firstName}
						a.panel-block
							span.panel-icon
								i.fas.fa-user(aria-hidden=true)
							p #[strong Last Name: ] #{user.lastName}
						a.panel-block
							span.panel-icon
								i.fas.fa-envelope(aria-hidden=true)
							p #[strong Email: ] #{user.email}
						a.panel-block
							span.panel-icon
								i.fas.fa-phone(aria-hidden=true)
							p #[strong Phone: ] #{user.phone}
						a.panel-block
							span.panel-icon
								i.fas.fa-map-marker(aria-hidden=true)
							p #[strong Address: ] #{user.address}
						a.panel-block
							span.panel-icon
								i.fas.fa-map-marker(aria-hidden=true)
							p #[strong Address 2: ] #{user.address2}
						a.panel-block
							span.panel-icon
								i.fas.fa-map-marker(aria-hidden=true)
							p #[strong City: ] #{user.city}
						a.panel-block
							span.panel-icon
								i.fas.fa-map-marker(aria-hidden=true)
							p #[strong State: ] #{user.state}
						a.panel-block
							span.panel-icon
								i.fas.fa-map-marker(aria-hidden=true)
							p #[strong Zip Code: ] #{user.zipcode}

				.column.is-three-quarters
					form(action='' method='POST')
						.field
							label.label Add Image
							.control
								.file.is-link
									label.file-label(for=file)
										input.file-input(type='file' id='file' name='profilepic' accept='image/*' value=(undefined ===
										user ? '' : user.profilepic))
										span.file-cta
											span.file-icon
												i.fas.fa-upload
											span.file-label
												| Upload image&mldr;
										span.file-name(id='filename') e.g. profilepic.jpg
						.field
							.control
								br
								button.button.is-link(type='submit')
									| Submit
								button.button.is-danger(type='cancel')
									| Cancel

						if errors
							ul
								for error in errors
									li!= error.msg

