extends layout

block content 

    // Main content
    center
        h1.subtitle.is-3(style='padding-left: auto; padding-right: auto;') Search for Yard Sales in your area!
        // Search form
        .container
            .columns
                .column.is-one-quarter
                .column.is-one-quarter
                    .field.is-horizontal
                        .field-body
                            .field
                                p.control
                                    input.input(type='text' placeholder='City, State, Zip Code')

                .column.is-one-quarter
                    .field.is-horizontal
                        .field-body(style='padding-left: auto; padding-right: auto;')
                            //- .field
                            //-     .select
                            //-         select
                            //-             option(value='radius') --Radius--
                            //-             option(value='5') 5 miles
                            //-             option(value='10') 10 miles
                            //-             option(value='25') 25 miles
                            //-             option(value='50') 50 miles
                            //-             option(value='100') 100 miles
                            //-             option(value='unlimited') unlimited
                            .field
                                .select
                                    select(id='sort')
                                        option(selected) --Sort--
                                        option(value='date') Date
                                        option(value='distance') Distance
                                        //- option(value='time') Start Time
                                a.button.is-primary(type='e' id='search')
                                    | Search
                .column.is-one-quarter
        br
        // MAP OF USA
        .container
            #map(style='width:100%;height:400px')
            script.
                var map;
                function initMap() {
                    map = new google.maps.Map(document.getElementById('map'), {
                        center: new google.maps.LatLng(44.5886,-104.6985),
                        mapTypeId: google.maps.MapTypeId.ROADMAP,
                        zoom: 8
                    });
                    var locations = [
                        new google.maps.LatLng(41.6617218,-71.5049636),
                        new google.maps.LatLng(44.5886,-104.6985),
                        new google.maps.LatLng(44.0769281,-103.6503378)
                        // and additional coordinates, just add a new item
                    ];
                    locations.forEach(function (location) {
                        var marker = new google.maps.Marker({
                            position: location,
                            map: map,
                            title:"Yard Sale"
                        });
                        marker.addListener('click', function() {
                            infowindow.open(map, marker);
                        });
                    });
                    var contentString = '<div id="content">'+
                        '<div id="siteNotice">'+
                        '</div>'+
                        '<h1 id="firstHeading" class="firstHeading">Address  </h1>'+
                        '<h1 id="firstHeading" class="firstHeading">  Date</h1>'+
                        '<div id="bodyContent">'+
                        '<p class="image is-64x64"><img src="https://bulma.io/images/placeholders/128x128.png"></p>'+
                        '<p>Yard sale info.</p>'+
                        '</div>'+
                        '</div>';
                    var infowindow = new google.maps.InfoWindow({
                        content: contentString
                    });
                }
            script(src='https://maps.googleapis.com/maps/api/js?key=AIzaSyCQZTrgfsk848vQb70eG-wEaJwbFnvUUpk&callback=initMap' async='' defer='')
        // Search Results (Hard Coded for now...)
        section.section
            .container
                article.media 
                    if yardsale //some data should be displaying no?
                     each yardsale in all_yardsales
                        figure.media-left
                            p.image.is-64x64
                                img(src='https://bulma.io/images/placeholders/128x128.png')
                        .media-content
                            .content
                                p
                                    strong #{yardsale.date_and_time}
                                p
                                    strong #{yardsale.full_address}
                                    br
                                    |  #{yardsale.description}

                        .media-right
                            a.button.is-primary(type='submit')
                                | View
                            <nav class="level is-mobile">
                            <div class="level-right">
                            <a class="level-item">
                            <span class="icon is-small"><i class="fas fa-star"></i></span>
                            </a>
                            </div>
                            </nav>