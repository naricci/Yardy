extends layout

block content
	section.section
		.container
			if isAuthenticated
				include components/title_user
			else
				h1.subtitle.has-text-centered
					strong Registration
			if isAuthenticated
				include components/panel
			.columns
				.column.is-one-quarter
					if isAuthenticated
						include components/sidebar
				.column.is-two-quarters
					include components/errors
					br
					form(method='post' action='')
						if is_update_form
							.field
								label.label Username
								.control
									input.input(id='username' type='text' name='username' placeholder='johndoe' minlength='4' maxlength='25' disabled value=(undefined ===
									user ? '' : user.username))
						else
							.field
								label.label Username
								.control
									input.input(id='username' type='text' name='username' placeholder='johndoe' minlength='4' maxlength='25' required value=(undefined ===
									user ? '' : user.username))
						.field
							label.label Email
							.control
								input.input(id='email' type='email' name='email' placeholder='johndoe@gmail.edu' maxlength='25' required value=(undefined ===
								user ? '' : user.email))
						if is_update_form
							hr
							p Use the fields below if you want to change your password. Otherwise, leave blank.
							hr
						.field
							label.label #{is_update_form ? 'New Password' : 'Password'}
							.control
								input.input(id='password' type='password' name='password' )
						.field
							label.label #{is_update_form ? 'Confirm New Password' : 'Confirm Password'}
							.control
								input.input(id='cpassword' type='password' name='cpassword' )

						if is_update_form
							hr
							p The fields below are all optional.
							hr
							.field
								label.label First Name
								.control
									input.input(id='firstname' type='text' name='firstname' placeholder='John' maxlength='25' value=(undefined ===
									user ? '' : user.firstName))
							.field
								label.label Last Name
								.control
									input.input(id='lastname' type='text' name='lastname' placeholder='Doe' maxlength='25' value=(undefined ===
									user ? '' : user.lastName))
							.field
								label.label Phone
								.control
									input.input(id='phone' type='tel' name='phone' placeholder='4028287902' maxlength='10' value=(undefined ===
									user ? '' : user.phone))
							.field
								label.label Address
								.control
									input.input(id='address' type='text' name='address' maxlength='250' placeholder='123 Yardy Street' value=(undefined ===
									user ? '' : user.address))
							.field
								label.label Address 2
								.control
									input.input(id='address2' type='text' name='address2' maxlength='250' value=(undefined === user ?
										'' :
										user.address2))
							.field
								label.label City
								.control
									input.input(id='city' type='text' name='city' placeholder='Providence' value=(undefined === user ?
										'' :
										user.city))
							.field
								label.label State
								.control
									select.input(name='state')
										option(value="" selected=(undefined === user || user.state !== '' ?
											false :
											'selected')) Select State
										option(value='CT' selected=(undefined === user || user.state !== 'CT' ? false : 'selected')) CT
										option(value='MA' selected=(undefined === user || user.state !== 'MA' ? false : 'selected')) MA
										option(value='ME' selected=(undefined === user || user.state !== 'ME' ? false : 'selected')) ME
										option(value='NH' selected=(undefined === user || user.state !== 'NH' ? false : 'selected')) NH
										option(value='RI' selected=(undefined === user || user.state !== 'RI' ? false : 'selected')) RI
							.field
								label.label Zip Code
								.control
									input.input(id='zipcode' type='text' name='zipcode' placeholder='02818' minlength='5' maxlength='5' value=(undefined ===
									user ? '' : user.zipcode))
						if is_update_form && isAuthenticated
							.field
								.control
									button.button.is-link(type='submit')
										| Update
						if !is_update_form
							.field
								.control
									button.button.is-link(type='submit')
										| Register
				.column.is-one-quarter
